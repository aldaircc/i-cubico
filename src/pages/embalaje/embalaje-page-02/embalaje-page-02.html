<!--
  Generated template for the EmbalajePage_02Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="sgaaTitleBackcolor" no-border>

  <ion-toolbar no-padding no-margin color="primary">
    <ion-navbar>
      <ion-title>
        EMBALAJE
      </ion-title>
    </ion-navbar>
    <ion-buttons start>
      <button ion-button icon-only (click)="getDataEmbalaje()">
        <ion-icon name="sync"></ion-icon>
      </button>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>

  <ion-grid class="bgHeader statico">
    <ion-row no-padding no-margin>
      <ion-col col-4 class="bgHeader-col">
        <div class="bgHeader-label">Usuario:</div>
      </ion-col>
      <ion-col col-8 class="bgHeader-col">
        <div class="bgHeader-text">{{ sGlobal.apeNom}}</div>
      </ion-col>
    </ion-row>
    <ion-row no-padding no-margin>
      <ion-col col-4 class="bgHeader-col">
        <div class="bgHeader-label">Almacén:</div>
      </ion-col>
      <ion-col col-8 class="bgHeader-col">
        <div class="bgHeader-text">{{sGlobal.nombreAlmacen}}</div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-header>

<ion-content>
  <!-- Start:  data-binding list -->
  <ion-row>
    <ion-searchbar (ionInput)="filterItems($event)" placeholder="Buscar..."></ion-searchbar>
  </ion-row>

  <ion-row class="bgWhite">
    <ion-card *ngFor="let objEmbalaje of listAuxEmbalaje">
      <ion-card-content style="padding: 8px 2px; font-size: 12px" (press)="getRegistrarIncidencia(objEmbalaje)">
        <ion-row no-padding no-margin>
          <div no-margin [ngClass]="objEmbalaje.Id_Estado == 3 ? 'bg-process' : 'bg-confirm'" style="margin-right: 2px;  width: 2%;">
          </div>
          <div no-padding no-margin style=" width: 90%;">
            <ion-row no-padding no-margin>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Nro. Orden:
                </ion-label>
              </ion-col>
              <ion-col col-9 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{objEmbalaje.NumOrden}}
                </ion-label>
              </ion-col>
            </ion-row>
            <ion-row no-padding no-margin>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Cliente:
                </ion-label>
              </ion-col>
              <ion-col col-9 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{ objEmbalaje.Cliente}}
                </ion-label>
              </ion-col>
            </ion-row>
            <ion-row no-padding no-margin>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Dirección:
                </ion-label>
              </ion-col>
              <ion-col col-9 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{objEmbalaje.Direccion}}
                </ion-label>
              </ion-col>
            </ion-row>
            <ion-row no-padding no-margin>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Cuenta:
                </ion-label>
              </ion-col>
              <ion-col col-9 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{objEmbalaje.Socio}}
                </ion-label>
              </ion-col>
            </ion-row>
            <ion-row no-padding no-margin>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Fecha Doc.:
                </ion-label>
              </ion-col>
              <ion-col col-3 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{objEmbalaje.FechaDocumento|momentjs: 'DD/MM/YYYY'}}
                </ion-label>
              </ion-col>
              <ion-col col-2 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold;">
                  Entrega:
                </ion-label>
              </ion-col>
              <ion-col col-4 no-padding no-margin>
                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                  {{objEmbalaje.FechaLlegada|momentjs: 'DD/MM/YYYY'}}
                </ion-label>
              </ion-col>
            </ion-row>
          </div>
          <div no-margin style="position: relative; text-align: center; float:none; padding-top: 3%; margin-right: 2px;  width: 6%;">
            <button no-margin no-padding ion-button icon-only clear (click)="ValidarOrden(objEmbalaje)" style="position: absolute;	top: 0;	bottom: 0; left: 0; right: 0; width: 80%; margin: auto; background:none;">
              <ion-icon name="md-play" color="dark"></ion-icon>
            </button>
          </div>
        </ion-row>
      </ion-card-content>
    </ion-card>
  </ion-row>
</ion-content>

<ion-footer class="bgLightBlue">
  <ion-grid>
    <ion-row no-padding no-margin>
      <ion-col col-8 style="margin: 0px; padding: 1px">
        <ion-label no-padding no-margin class="total-footer">
          Total registros: {{rowCount}} fila(s)
        </ion-label>
      </ion-col>
      <ion-col col-2 class="col-counts-footer">
        <ion-label no-padding no-margin class="count-gris-footer box-counter">
          {{rowCountConfirm}}
        </ion-label>
      </ion-col>
      <ion-col col-2 class="col-counts-footer">
        <ion-label no-padding no-margin class="count-yellow-footer box-counter">
          {{rowCountProceso}}
        </ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>