<!--
  Generated template for the DetallePickingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar no-padding no-margin color="primary">
        <ion-grid style="padding: 0px;">
            <ion-row no-padding no-margin>
                <ion-col col-9 no-padding no-margin>
                    <ion-navbar no-padding no-margin>
                        <ion-label style="font-size: 15px; color: white; font-weight:bold;">DETALLE DE PICKING</ion-label>
                    </ion-navbar>
                </ion-col>
                <ion-col col-3 no-padding no-margin>
                    <ion-buttons start style="margin-top: 12px; text-align: center">
                        <button ion-button icon-only (click)="getDetallePickingLoad()">
                            <ion-icon name="sync"></ion-icon>
                        </button>
                        <button ion-button icon-only (click)="presentPopover($event)">
                            <ion-icon name="more"></ion-icon>
                        </button>
                    </ion-buttons>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-toolbar>

    <ion-grid class="bgHeader statico">
        <ion-row no-padding no-margin>
            <ion-col col-3 class="bgHeader-col">
                <ion-label class="bgHeader-label">
                    N° Orden:
                </ion-label>
            </ion-col>
            <ion-col col-9 class="bgHeader-col">
                <ion-label class="bgHeader-text">
                    {{ vRutaPickingPage.NumOrden }}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding no-margin>
            <ion-col col-3 class="bgHeader-col">
                <ion-label class="bgHeader-label">
                    Cliente:
                </ion-label>
            </ion-col>
            <ion-col col-9 class="bgHeader-col">
                <ion-label class="bgHeader-text">
                    {{ vRutaPickingPage.Cliente }}
                </ion-label>
            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-row class="statico">
        <ion-searchbar placeholder="Buscar código o articulo" (ionInput)="filterItems($event)" [(ngModel)]="searchQuery"></ion-searchbar>
    </ion-row>
</ion-header>

<ion-content>



    <ion-row class="bgWhite">
        <ion-card *ngFor="let objDetallePicking of listAuxDetallePicking">
            <ion-card-content style="padding: 8px 4px; font-size: 12px"  (press)="goDetallePorProductoPage(objDetallePicking)">
                <ion-row no-padding no-margin>
                    <div no-margin [ngClass]="{plomo : (objDetallePicking.CantidadPedida == objDetallePicking.Saldo), amarillo: (objDetallePicking.Saldo > 0 && objDetallePicking.CantidadPedida > objDetallePicking.Saldo), verde: (objDetallePicking.Saldo == 0) }"
                        style="margin-right: 2px;  width: 2%;">
                    </div>
                    <div no-padding no-margin style=" width: 90%;">
                        <ion-row no-padding no-margin>
                            <ion-col col-4 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Código:
                                </ion-label>
                            </ion-col>
                            <ion-col col-8 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.CodigoProducto}}
                                </ion-label>
                            </ion-col>
                        </ion-row>
                        <ion-row no-padding no-margin>
                            <ion-col col-4 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Articulo:
                                </ion-label>
                            </ion-col>
                            <ion-col col-8 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{ objDetallePicking.Producto}}
                                </ion-label>
                            </ion-col>
                        </ion-row>
                        <ion-row no-padding no-margin>
                            <ion-col col-4 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    U.M.:
                                </ion-label>
                            </ion-col>
                            <ion-col col-3 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.UMBase}}
                                </ion-label>
                            </ion-col>
                            <ion-col col-2 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Lote:
                                </ion-label>
                            </ion-col>
                            <ion-col col-3 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.LoteProducto}}
                                </ion-label>
                            </ion-col>
                        </ion-row>
                        <ion-row no-padding no-margin>
                            <ion-col col-4 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Cant. Pedida:
                                </ion-label>
                            </ion-col>
                            <ion-col col-3 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.CantidadPedida | number:'1.2-2'}}
                                </ion-label>
                            </ion-col>
                            <ion-col col-2 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Saldo:
                                </ion-label>
                            </ion-col>
                            <ion-col col-3 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.Saldo | number:'1.2-2'}}
                                </ion-label>
                            </ion-col>
                        </ion-row>
                        <ion-row no-padding no-margin>
                            <ion-col col-4 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold;">
                                    Cant. Atendida:
                                </ion-label>
                            </ion-col>
                            <ion-col col-8 no-padding no-margin>
                                <ion-label no-padding no-margin style="font-weight:bold; color:dimgray ">
                                    {{objDetallePicking.CantidadPedida - objDetallePicking.Saldo | number:'1.2-2'}}
                                </ion-label>
                            </ion-col>
                        </ion-row>
                    </div>
                    <div no-margin style="position: relative; text-align: center; float:none; padding-top: 3%; margin-right: 2px;  width: 6%;">
                        <button no-margin no-padding ion-button icon-only clear (click)="ValidarProducto(objDetallePicking)"
                            style="position: absolute;	top: 0;	bottom: 0; left: 0; right: 0; width: 80%; margin: auto; background:none;">
                            <ion-icon name="md-play" color="dark"></ion-icon>
                        </button>
                    </div>
                </ion-row>
            </ion-card-content>
        </ion-card>
    </ion-row>
</ion-content>

<ion-footer class="bgLightBlue">
    <ion-grid>
        <!-- <ion-row no-padding no-margin style="text-align: center">
            <ion-col col-12 style="margin: 0px; padding: 1px; ">
                <ion-label no-padding no-margin style="font-weight:bold; color:black">
                    Total Ítems: {{rowCount}}
                </ion-label>
            </ion-col>
        </ion-row> -->
        <ion-row no-padding no-margin>
            <ion-col col-6 style="margin: 0px; padding: 1px; ">
                <ion-label no-padding no-margin class="total-footer">
                    Total Ítems: {{rowCount}}
                </ion-label>
            </ion-col>

            <ion-col col-2 class="col-counts-footer">
                <ion-label no-padding no-margin  class="count-gris-footer box-counter">
                    {{rowCountSinTrabajar}}
                </ion-label>
            </ion-col>
            <ion-col col-2 class="col-counts-footer">
                <ion-label no-padding no-margin class="count-yellow-footer box-counter">
                    {{rowCountProceso}}
                </ion-label>
            </ion-col>
            <ion-col col-2 class="col-counts-footer">
                <ion-label no-padding no-margin class="count-green-footer box-counter">
                    {{rowCountFinalizado}}
                </ion-label>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-footer>