<!--
  Generated template for the PickingPorProductoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar no-padding no-margin color="primary">
        <ion-grid style="padding: 0px;">
            <ion-row no-padding no-margin>
                <ion-col no-margin no-padding col-9>
                    <ion-navbar no-padding no-margin>
                        <ion-label style="font-size: 15px; color: white; font-weight:bold;">PICKING POR PRODUCTO</ion-label>
                    </ion-navbar>
                </ion-col>
                <ion-col no-margin no-padding col-3>
                    <ion-buttons start style="margin-top: 12px; text-align: center">
                        <button no-margin no-padding ion-button icon-only (click)="presentPopover($event)">
                            <ion-icon name="more"></ion-icon>
                        </button>
                    </ion-buttons>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-toolbar>

    <ion-grid class="bgHeader statico">
        <ion-row no-padding no-margin>
            <ion-col col-3 class="bgHeader-col">
                <ion-label class="bgHeader-label-button">
                    N° Ruta:
                </ion-label>
            </ion-col>
            <ion-col col-5 class="bgHeader-col">
                <ion-label class="bgHeader-text-button">
                    {{ contador }} / {{ total }}
                </ion-label>
            </ion-col>
            <ion-col col-4 class="bgHeader-col">
                <button ion-button (click)="BackRutaPicking()" [disabled]="!Backisenabled " class="bgHeader-button"
                    icon-start>
                    <ion-icon name='arrow-dropleft'></ion-icon>
                </button>

                <button ion-button (click)="NextRutaPicking()" [disabled]="Nextisenabled" class="bgHeader-button"
                    icon-end>
                    <ion-icon name='arrow-dropright'></ion-icon>
                </button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-header>



<ion-content [ngClass]="{bgWhite: (!isBgRed && !isBgYellow && !isBgGreen), bgRed:(isBgRed), bgYellow:(isBgYellow), bgGreen:(isBgGreen), bgWhite:(isbgWhite)}">

    <ion-grid style="padding: 0px;">
        <ion-row no-padding style="margin-top: 8px; margin-bottom: 8px;">
            <ion-col col-12 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px; color:dimgray">
                    {{ pickingProducto.Producto }}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px; ">
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px;  padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Código:
                </ion-label>
            </ion-col>
            <ion-col col-9 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px;  padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px; color:dimgray">
                    {{ pickingProducto.CodigoProducto }}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Lote:
                </ion-label>
            </ion-col>
            <ion-col col-9 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.LoteProducto}}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Cant. <br /> Pedida:
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 10px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.CantidadPedida | number:'1.2-2'}}
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Cant. <br /> Atendida:
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 10px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.CantidadPedida - pickingProducto.Saldo | number:'1.2-2'}}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Saldo:
                </ion-label>
            </ion-col>
            <ion-col col-9 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.Saldo | number:'1.2-2'}}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 10px; margin-bottom: 0px;">
                    Cajas:
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 10px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.Caja}}
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 3px; margin-bottom: 0px;">
                    Saldo <br /> por caja:
                </ion-label>
            </ion-col>
            <ion-col col-3 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 10px; margin-bottom: 0px; color:dimgray">
                    {{pickingProducto.SaldoCaja | number:'1.2-2'}}
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-4 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 16px; margin-bottom: 0px;">
                    Cod. Barra:
                </ion-label>
            </ion-col>
            <ion-col col-8 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px;  padding-bottom: 0px;">
                <ion-item style="font-weight:bold; padding: 0px; margin: 0px;">
                    <ion-input  #txtCodBarraUA type="text" value="" [(ngModel)]="codeBar" (keyup.enter)="validarCodeBar()"
                        style="font-weight:bold; font-size: 13px; padding: 0px; margin: 0px; color:dimgray" maxlength="20"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row no-padding style="margin-top: 0px; margin-bottom: 8px;">
            <ion-col col-4 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px; padding-bottom: 0px;">
                <ion-label style="padding-left: 10px; font-weight:bold; margin-top: 16px; margin-bottom: 0px;">
                    Cantidad:
                </ion-label>
            </ion-col>
            <ion-col col-8 style="padding-left: 0px; padding-right: 0px;  padding-top: 0px;  padding-bottom: 0px;">
                <ion-item style="font-weight:bold; padding: 0px; margin: 0px;">
                    <ion-input disabled="{{isDisabled}}" #txtCantidadUA type="text" value="Textcantidad" [disabled]="Txtcantidadisenabled"
                        [(ngModel)]="Textcantidad" (keydown)="keydown($event)" (keyup)="keyup($event)" (keyup.enter)="registarUA()"
                        placeholder="0.00" style="font-weight:bold; font-size: 13px; 
                    padding: 0px; margin: 0px; color:dimgray;"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>

    </ion-grid>
</ion-content>

<ion-footer style="background:#054B77">
    <ion-grid style="margin: 0px; padding: 0px">
        <ion-row>
            <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style=" margin: 0px; padding: 0px" (click)="goDetallePickingPage()" medium full>
                    <div>
                        <ion-icon name='cube'></ion-icon> <br>
                    </div>
                </button>
            </ion-col>
            <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style=" margin: 0px; padding: 0px" (click)="goDetallePorProductoPage()" medium full>
                    <div>
                        <ion-icon name='list-box'></ion-icon> <br>
                    </div>
                </button>
            </ion-col>
            <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style="margin: 0px; padding: 0px" (click)="goRutaPickingPageUpdate()" medium full>
                    <div>
                        <ion-icon name='add'></ion-icon> <br>
                    </div>
                </button>
            </ion-col>
            <!-- <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style=" margin: 0px; padding: 0px" (click)="goReabastecimientoPage()" medium full>
                    <div>
                        <ion-icon name='logo-dropbox'></ion-icon> <br>
                    </div>
                </button>
            </ion-col> -->
            <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style=" margin: 0px; padding: 0px" (click)="RegistrarSolicitudPicking()" medium full>
                    <div>
                        <ion-icon name='list'></ion-icon> <br>
                    </div>
                </button>
            </ion-col>
            <ion-col style="margin: 0px; padding: 0px; width: 20%;">
                <button ion-button style=" margin: 0px; padding: 0px" (click)="registarUA()" medium full>
                    <div>
                        <ion-icon name='checkbox-outline'></ion-icon> <br>
                    </div>
                </button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-footer>