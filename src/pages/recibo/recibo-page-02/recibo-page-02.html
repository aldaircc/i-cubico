<!--
  Generated template for the ReciboPage_02Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
   <ion-navbar>
    <ion-buttons left>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>

    <!-- <ion-buttons end>
      <button ion-button icon-only (click)="switchStyle()">
        <ion-icon name="bulb"></ion-icon>
      </button>
    </ion-buttons> -->
    <ion-title>
      DETALLE RECIBO
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-grid class="bgHeader statico">        
    <ion-row align-items-center>
      <ion-col col-4 col-sm>
        <div class="textHeader">Nro. Orden</div>
      </ion-col>
      <ion-col col-8 col-sm>
        <div class="valueHeader">{{ vReciboPage01.NumOrden }}</div>
      </ion-col>
    </ion-row>
    <ion-row align-items-center>
      <ion-col col-4 col-sm>
        <div class="textHeader">Proveedor</div>
      </ion-col>
      <ion-col col-8 col-sm>
        <div class="valueHeader">{{ vReciboPage01.Proveedor }}</div>
      </ion-col>
  </ion-row> 
    <ion-row align-items-center>
        <ion-col col-4 col-sm>
          <div class="textHeader">Cuenta</div>
        </ion-col>
        <ion-col col-8 col-sm>
          <div class="valueHeader">{{ vReciboPage01.Cuenta }}</div>
        </ion-col>
    </ion-row>     
</ion-grid>


</ion-header>


<ion-content>
  

    <ion-row class="bgLightBlue">
      <ion-searchbar (ionInput)="filterItems($event)" placeholder="Buscar"></ion-searchbar>
    </ion-row>

    <!-- <ion-row class="bgWhite">
        <ion-card *ngFor="let objDetail of listAuxDetailTx">
            <ion-card-header>
              <ion-item class="header" no-lines no-padding>
                  <div class="headerCard">Código: {{objDetail.Codigo}}</div>
                <button item-end ion-button icon-only small (click)="navigateToEtqCajaLpn(objDetail)">
                  <ion-icon name="label" name="barcode"></ion-icon>
                </button>
              </ion-item>
              
            </ion-card-header>

            <ion-card-content (click)="goToReciboPage03(objDetail)">
                <h5><b>Lote: </b> {{ objDetail.Lote}} </h5>
                <h5><b>Descripción: </b> {{objDetail.Descripcion}}</h5>
                <h5><b>SubAlmacen origen: </b> {{objDetail.NombreSubAlmacen}}</h5>
                <h5><b>Cant. pedida: </b> {{objDetail.CantidadPedida}}</h5>
                <h5><b>Cant. operada: </b> {{objDetail.CantidadOperacion}}</h5>
                <h5><b>Saldo: </b> {{objDetail.Saldo}}</h5>
            </ion-card-content>
          </ion-card>
      </ion-row> -->

      <ion-list [virtualScroll]="listAuxDetailTx" [approxItemHeight]="'20px'">
        <ion-card *virtualItem="let objDetail">
          <ion-grid>
            <ion-row>
              <ion-col col-1 col-sm
              [ngClass]="{'label-color bg-confirm' : (objDetail.CantidadPedida == objDetail.Saldo), 'bg-process': (objDetail.Saldo > 0 && objDetail.CantidadOperacion > 0), 'bg-finalizado': (objDetail.CantidadPedida == objDetail.CantidadOperacion)}">
             <!-- [ngClass]="{ bgYellow: isBgYellow, bgGreen: isBgGreen, bgRed: isBgRed }" -->
              </ion-col>
              <ion-col col-10 col-sm>
                <ion-row>
                  <ion-col class="rec02-card-col" col-12 col-sm>
                    <ion-label class="rec02-card-label fieldForm">{{ objDetail.Descripcion }}</ion-label>
                  </ion-col>            
                </ion-row>
                <ion-row>
                  <ion-col class="rec02-card-col" col-4 col-sm>
                    <ion-label class="rec02-card-label fieldForm">Código:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-8 col-sm>
                    <ion-label class="rec02-card-label">{{ objDetail.Codigo }}</ion-label>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col class="rec02-card-col" col-4 col-sm>
                    <ion-label class="rec02-card-label fieldForm">Lote:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col">
                    <ion-label class="rec02-card-label">{{ objDetail.Lote}}</ion-label>
                  </ion-col>
                </ion-row>
      
                <ion-row>
                  <ion-col class="rec02-card-col" col-4 col-sm>
                    <ion-label class="rec02-card-label fieldForm">SubAlmacén:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-8 col-sm>
                    <ion-label class="rec02-card-label">{{ objDetail.NombreSubAlmacen }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col class="rec02-card-col" col-3 col-sm>
                    <ion-label class="rec02-card-label fieldForm">C. Ped.:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-3 col-sm>
                    <ion-label class="rec02-card-label">{{ objDetail.CantidadPedida }}</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-3 col-sm>
                    <ion-label class="rec02-card-label fieldForm">C. Ope.:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-3 col-sm>
                    <ion-label class="rec02-card-label">{{ objDetail.CantidadOperacion }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col class="rec02-card-col" col-3 col-sm>
                    <ion-label class="rec02-card-label fieldForm">Saldo:</ion-label>
                  </ion-col>
                  <ion-col class="rec02-card-col" col-9 col-sm>
                    <ion-label class="rec02-card-label">{{ objDetail.Saldo }}</ion-label>
                  </ion-col>
                </ion-row>
              </ion-col>
              <ion-col col-1 col-sm align-self-center>
                <button ion-button icon-only out-line class="button-outline-md" (click)="goToReciboPage03(objDetail)">
                  <ion-icon name="md-play"></ion-icon>
                </button>                
                <button ion-button icon-only out-line class="button-outline-md" (click)="navigateToEtqCajaLpn(objDetail)">
                  <ion-icon name="barcode"></ion-icon>
                </button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </ion-list>

  <!--<ngx-datatable class="fullscreen" [ngClass]="tablestyle" [rows]="rows" [columnMode]="'force'" [sortType]="'multi'" [reorderable]="false">
    <ngx-datatable-column name="name"></ngx-datatable-column>
    <ngx-datatable-column name="gender"></ngx-datatable-column>
    <ngx-datatable-column name="age"></ngx-datatable-column>
  </ngx-datatable>-->

  <!--<ngx-datatable class="fullscreen" [ngClass]="tablestyle" [rows]="rows_2" 
  [columnMode]="'force'" [sortType]="'multi'" [reorderable]="false">
  <ngx-datatable-column prop="Alias" name="Alias"></ngx-datatable-column>
  <ngx-datatable-column prop="Edad" name="Edad"></ngx-datatable-column>
  <ngx-datatable-column prop="UM" name="UM"></ngx-datatable-column>
  </ngx-datatable>-->

   
  <!--<div class="panel-body">
    <ngx-datatable class="material" [rows]="listDetailTx" 
    [columnMode]="'force'" [sortType]="'multi'" [reorderable]="false"
    [rowHeight]="50"
    [headerHeight]="50"
    [footerHeight]="50"
    [scrollbarH]="true">
      <ngx-datatable-column prop="Codigo" name="Codigo"></ngx-datatable-column>
      <ngx-datatable-column prop="Lote" name="Lote"></ngx-datatable-column>
      <ngx-datatable-column prop="Descripcion" name="Descripcion"></ngx-datatable-column>
      <ngx-datatable-column prop="Id_Tx" name="Id_Tx"></ngx-datatable-column>
      <ngx-datatable-column prop="CantidadPedida" name="CantidadPedida"></ngx-datatable-column>
      <ngx-datatable-column prop="CantidadBulto" name="CantidadBulto"></ngx-datatable-column>
      <ngx-datatable-column prop="UM" name="UM"></ngx-datatable-column>
    </ngx-datatable>
  </div>-->
</ion-content>

<ion-footer class="bgLightBlue">
  <ion-grid>
    <!-- <ion-row class="bgLightBlue" align-items-center> -->
      <!-- <ion-col col-2 col-sm>
          <div class="fieldForm">Total</div>
      </ion-col>
      <ion-col col-3 col-sm>
          <div class="fieldForm"> {{ rowCount }} fila(s) </div>
      </ion-col> -->

      <ion-row no-padding no-margin style="text-align: center">
          <ion-col col-12 style="margin: 0px; padding: 1px; ">
              <ion-label no-padding no-margin style="font-weight:bold; color:black">
                  Total Ítems: {{rowCount}}
              </ion-label>
          </ion-col>
      </ion-row>
      <ion-row no-padding no-margin>
          <ion-col col-3 style="margin: 0px; padding: 0px; ; text-align: center">
          </ion-col>
          <ion-col col-2 style="margin-right: 4px; padding: 0px; background: #A4A4A4; text-align: center">
              <ion-label no-padding no-margin style="font-weight:bold; color:black">
                  {{countConfirm}}
              </ion-label>
          </ion-col>
          <ion-col col-2 style="margin: 0px; padding: 0px; background: #FFFF00; text-align: center">
              <ion-label no-padding no-margin style="font-weight:bold; color:black">
                  {{countProcess}}
              </ion-label>
          </ion-col>
          <ion-col col-2 style="margin-left: 4px; padding: 0px; background: #04B404; text-align: center">
              <ion-label no-padding no-margin style="font-weight:bold; color:black">
                  {{countFinalizado}}
              </ion-label>
          </ion-col>
          <ion-col col-3 style="margin: 0px; padding: 0px; text-align: center">
          </ion-col>
      </ion-row>

      <!-- <p class="subtitleForm fieldForm" text-center>
        TOTAL ITEMS: {{ rowCount }}
      </p>
      <ion-row>
        <ion-col col-2 offset-1 col-sm class="box-counter bg-confirm"> {{ countConfirm }} </ion-col>
        <ion-col col-2 offset-2 col-sm class="box-counter bg-process"> {{ countProcess }} </ion-col>
        <ion-col col-2 offset-2 col-sm class="box-counter bg-finalizado"> {{ countFinalizado }} </ion-col>
      </ion-row> -->
      
      
    <!-- </ion-row> -->

    <ion-row class="bgLightBlue" align-items-center>
            
      <ion-col col-12>
          <label class="checkbox">
            <ion-checkbox [(ngModel)]="bolAutomatic"></ion-checkbox>
            Verificación automatica
          </label>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <button ion-button full (click)="cerrarTxRecepcion()">Cerrar Tx</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>